local M = {}

local buffer_option = {
	-- Complete from all visible buffers (splits)
	get_bufnrs = function()
		local bufs = {}
		for _, win in ipairs(vim.api.nvim_list_wins()) do
			bufs[vim.api.nvim_win_get_buf(win)] = true
		end
		return vim.tbl_keys(bufs)
	end,
}

local function deprioritize_snippet(entry1, entry2)
	if entry1:get_kind() == types.lsp.CompletionItemKind.Snippet then
		return false
	end
	if entry2:get_kind() == types.lsp.CompletionItemKind.Snippet then
		return true
	end
end

local function button(sc, txt, keybind)
  local sc_ = sc:gsub("%s", ""):gsub("SPC", "<leader>")

  local opts = {
    position = "center",
    text = txt,
    shortcut = sc,
    cursor = 5,
    width = 36,
    align_shortcut = "right",
    hl = "AlphaButtons",
  }

  if keybind then
    opts.keymap = { "n", sc_, keybind, { noremap = true, silent = true } }
  end

  return {
    type = "button",
    val = txt,
    on_press = function()
      local key = vim.api.nvim_replace_termcodes(sc_, true, false, true) or ""
      vim.api.nvim_feedkeys(key, "normal", false)
    end,
    opts = opts,
  }
end

M.treesitter = {
  ensure_installed = {
    'bash',
    'c',
    'c_sharp',
    'comment',
    'cpp',
    'css',
    'diff',
    'dockerfile',
    'dot',
    'fish',
    'git_rebase',
    'gitcommit',
    'gitignore',
    'go',
    'graphql',
    'html',
    'markdown',
    'pug',
    'prisma',
    'lua',
    'vim',
    'help',
    'java',
    'javascript',
    'typescript',
    'scss',
    'tsx',
    'vue',
    'jsdoc',
    'json',
    'json5',
    'regex',
    'ruby',
    'rust',
    'sql',
    'yaml',
  },
  highlight = {
    disable = { "help" },
  },
  rainbow = {
    enable = true,
    extended_mode = true,
    max_file_lines = nil,
  },
}

M.alpha = {
  header = {
    val = {
    "‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°ø‚†ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø",
		"‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°ø‚†ã‚£†‚£∂‚£æ‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø",
		"‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£°‚£æ‚£ø‚£ø‚£ø‚£ø‚£ø‚¢ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ü‚†ª‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø",
		"‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°ø‚¢´‚£∑‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£æ‚£Ø‚£ø‚°ø‚¢ß‚°ö‚¢∑‚£å‚£Ω‚£ø‚£ø‚£ø‚£ø‚£ø‚£∂‚°å‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø",
		"‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†á‚¢∏‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£Æ‚£á‚£ò‚†ø‚¢π‚£ø‚£ø‚£ø‚£ø‚£ø‚£ª‚¢ø‚£ø‚£ø‚£ø‚£ø‚£ø",
		"‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†Ä‚¢∏‚£ø‚£ø‚°á‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°ü‚¢ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£¶‚£ª‚£ø‚£ø‚£ø‚£ø",
		"‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°á‚†Ä‚£¨‚†è‚£ø‚°á‚¢ª‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£∑‚£º‚£ø‚£ø‚£∏‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚¢ª‚£ø‚£ø‚£ø‚£ø",
		"‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†Ä‚†à‚†Å‚†Ä‚£ø‚°á‚†ò‚°ü‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°è‚†ø‚£ø‚£ü‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£á‚£ø‚£ø‚£ø‚£ø",
		"‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°è‚†Ä‚†Ä‚†ê‚†Ä‚¢ª‚£á‚†Ä‚†Ä‚†π‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£©‚°∂‚†º‚†ü‚†ª‚†û‚£ø‚°à‚†ª‚£ü‚¢ª‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø",
		"‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°á‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢ø‚†Ä‚°Ü‚†Ä‚†ò‚¢ø‚¢ª‚°ø‚£ø‚£ß‚£∑‚¢£‚£∂‚°É‚¢Ä‚£æ‚°Ü‚°ã‚£ß‚†ô‚¢ø‚£ø‚£ø‚£ü‚£ø‚£ø‚£ø‚£ø",
		"‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°ø‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚°•‚†Ç‚°ê‚†Ä‚†Å‚†ë‚£æ‚£ø‚£ø‚£æ‚£ø‚£ø‚£ø‚°ø‚£∑‚£∑‚£ø‚£ß‚£æ‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø",
		"‚£ø‚£ø‚°ø‚£ø‚£ç‚°¥‚†Ü‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£º‚£Ñ‚£Ä‚£∑‚°Ñ‚£ô‚¢ø‚£ø‚£ø‚£ø‚£ø‚£Ø‚£∂‚£ø‚£ø‚¢ü‚£æ‚£ø‚£ø‚¢°‚£ø‚£ø‚£ø‚£ø‚£ø",
		"‚£ø‚°è‚£æ‚£ø‚£ø‚£ø‚£∑‚£¶‚†Ä‚†Ä‚†Ä‚¢Ä‚°Ä‚†Ä‚†Ä‚††‚£≠‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°ø‚†ü‚£°‚£æ‚£ø‚£ø‚¢è‚£æ‚£ø‚£ø‚£ø‚£ø‚£ø",
		"‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°¥‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚††‚†Ä‚†∞‚£ø‚£ø‚£ø‚£∑‚£ø‚†ø‚†ø‚£ø‚£ø‚£≠‚°∂‚£´‚†î‚¢ª‚¢ø‚¢á‚£æ‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø",
		"‚£ø‚£ø‚£ø‚°ø‚¢´‚£Ω‚†ü‚£ã‚†Ä‚†Ä‚†Ä‚†Ä‚£∂‚£¶‚†Ä‚†Ä‚†Ä‚†à‚†ª‚£ø‚£ø‚£ø‚£æ‚£ø‚£ø‚£ø‚£ø‚°ø‚££‚£ø‚£ø‚¢∏‚£æ‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø",
		"‚°ø‚†õ‚£π‚£∂‚£∂‚£∂‚£æ‚£ø‚£∑‚£¶‚£§‚£§‚£Ä‚£Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†â‚†õ‚†ª‚¢ø‚£ø‚°ø‚†´‚†æ‚†ø‚†ã‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø",
		"‚¢Ä‚£æ‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£Ä‚°Ü‚£†‚¢Ä‚£¥‚£è‚°Ä‚†Ä‚†Ä‚†Ä‚†â‚†Ä‚†Ä‚¢Ä‚£†‚£∞‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø",
		"‚†ø‚†õ‚†õ‚†õ‚†õ‚†õ‚†õ‚†ª‚¢ø‚£ø‚£ø‚£ø‚£ø‚£Ø‚£ü‚†∑‚¢∑‚£ø‚°ø‚†ã‚†Ä‚†Ä‚†Ä‚†Ä‚£µ‚°Ä‚¢†‚°ø‚†ã‚¢ª‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø",
		"‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†â‚†â‚†õ‚¢ø‚£ø‚£ø‚†Ç‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚£Ω‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ç‚†õ‚†ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø",
    }
  },
  buttons = {
    type = "group",
    val = {
      button("SPC f f", ">  Find Git File  ", ":Telescope git_files<CR>"),
      button("SPC f o", "Ôúô  Recent File  ", ":Telescope oldfiles<CR>"),
      button("SPC f w", "Ôú¨  Find Word  ", ":Telescope live_grep<CR>"),
      button("SPC b m", "ÔÄÆ  Bookmarks  ", ":Telescope marks<CR>"),
      button("SPC t h", "Óà´  Themes  ", ":Telescope themes<CR>"),
      button("SPC e s", "Óòï  Settings", ":e $MYVIMRC | :cd %:p:h <CR>"),
    },
    opts = {
      spacing = 1,
    },
  },
};

M.telescope = {
  defaults = {
    prompt_prefix = " ü•≥  ",
    selection_caret = " üëâ ",
    entry_prefix = "  ",
    layout_config = {
      horizontal = {
        prompt_position = "bottom",
      },
      width = 0.60,
      height = 0.72,
    }
  },
  extensions_list = { "themes", "terms", "smart_open", "projects" },
}

M.gitsign = {
  current_line_blame = true,
  current_line_blame_formatter = '<author>(<author_time:%Y-%m-%d>) <summary>',
}

M.cmp = {
  sources = {
    { name = "luasnip", priority = 7, max_item_count = 5 },
    { name = "nvim_lsp", priority = 10, },
    { name = "buffer", priority = 7, keyword_length = 5, option = buffer_option, max_item_count = 5 },
    { name = "nvim_lua", priority = 5 },
    { name = "path", priority = 4 },
    -- { name = "cmp_tabnine"},
    { name = "treesitter"},
    { name = "plugins"},
  },
}

M.ui = {
  hl_add = {
    Nvim_navic = {
      fg = "white",
      bg = "statusline_bg",
    },
  },
  statusline = {
    separator_style = "round",
  },
  tabufline = {
    enabled = false,
  },
}

M.term = {
  terminals = {
    type_opts = {
      float = {
        relative = "editor",
        row = 0.3,
        col = 0.25,
        width = 0.6,
        height = 0.4,
        border = "single",
      },
      horizontal = { location = "rightbelow", split_ratio = 0.3 },
      vertical = { location = "rightbelow", split_ratio = 0.5 },
    },
  },
}

M.devicons = {
  override ={
    default_icon = {
      icon = 'üåÉ',
      name = 'Default',
    },
    c = {
      icon = 'Óòû',
      name = 'c',
    },
    css = {
      icon = 'Óùâ',
      name = 'css',
    },
    deb = {
      icon = 'ÔåÜ',
      name = 'deb',
    },
    Dockerfile = {
      icon = 'Ôåà',
      name = 'Dockerfile',
    },
    html = {
      icon = 'ÔÑª',
      name = 'html',
    },
    jpeg = {
      icon = 'Ôùé',
      name = 'jpeg',
    },
    jpg = {
      icon = 'Ôùé',
      name = 'jpg',
    },
    js = {
      icon = 'Ô†ù',
      name = 'js',
    },
    kt = {
      icon = 'Û±àô',
      name = 'kt',
    },
    lock = {
      icon = 'Ô†Ω',
      name = 'lock',
    },
    lua = {
      icon = 'Óò†',
      name = 'lua',
    },
    mp3 = {
      icon = 'Ô¢Ö',
      name = 'mp3',
    },
    mp4 = {
      icon = 'ÔÖÑ',
      name = 'mp4',
    },
    out = {
      icon = 'Óòí',
      name = 'out',
    },
    png = {
      icon = 'Ôùé',
      name = 'png',
    },
    py = {
      icon = 'ÓòÜ',
      name = 'py',
    },
    ['robots.txt'] = {
      icon = 'ÔÆß',
      name = 'robots',
    },
    toml = {
      icon = 'ÔÄì',
      name = 'toml',
    },
    ts = {
      icon = 'ÔØ§',
      name = 'ts',
    },
    ttf = {
      icon = 'ÔÄ±',
      name = 'TrueTypeFont',
    },
    rb = {
      icon = 'ÓòÖ',
      name = 'rb',
    },
    rpm = {
      icon = 'Ôåñ',
      name = 'rpm',
    },
    vue = {
      icon = 'ÔµÇ',
      name = 'vue',
    },
    woff = {
      icon = 'ÔÄ±',
      name = 'WebOpenFontFormat',
    },
    woff2 = {
      icon = 'ÔÄ±',
      name = 'WebOpenFontFormat2',
    },
    xz = {
      icon = 'ÔáÜ',
      name = 'xz',
    },
    zip = {
      icon = 'ÔáÜ',
      name = 'zip',
    },
  } ,
}

return M
